"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DepChunkIdPrefixPlugin = void 0;
const constants_1 = require("../constants");
const pluginId = 'MFSUDepChunkIdPrefix';
class DepChunkIdPrefixPlugin {
    constructor() { }
    apply(compiler) {
        compiler.hooks.compilation.tap(pluginId, (compilation) => {
            compilation.hooks.afterOptimizeChunkIds.tap(pluginId, (chunks) => {
                for (const chunk of chunks) {
                    chunk.id = constants_1.MF_DEP_PREFIX + chunk.id;
                    chunk.ids = [chunk.id];
                }
            });
        });
    }
}
exports.DepChunkIdPrefixPlugin = DepChunkIdPrefixPlugin;
