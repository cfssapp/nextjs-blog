"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getRealPath = void 0;
const fs_1 = require("fs");
const path_1 = require("path");
const FILE_EXT_NAMES = ['.tsx', '.ts', '.jsx', '.mjs', '.js'];
function getRealPath(opts) {
    const target = (0, path_1.isAbsolute)(opts.dep)
        ? opts.dep
        : (0, path_1.join)((0, path_1.dirname)(opts.file), opts.dep);
    if (FILE_EXT_NAMES.includes((0, path_1.extname)(target))) {
        return target;
    }
    else {
        for (const fileExtName of FILE_EXT_NAMES) {
            const targetWithExtName = `${target}${fileExtName}`;
            if ((0, fs_1.existsSync)(targetWithExtName)) {
                return targetWithExtName;
            }
        }
        return null;
    }
}
exports.getRealPath = getRealPath;
