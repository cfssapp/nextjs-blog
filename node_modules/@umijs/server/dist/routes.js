"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createServerRoute = exports.createServerRoutes = void 0;
function createServerRoutes(opts) {
    const { routesById, parentId } = opts;
    return Object.keys(routesById)
        .filter((id) => routesById[id].parentId === parentId)
        .map((id) => {
        const route = createServerRoute({
            route: routesById[id],
        });
        const children = createServerRoutes({
            routesById,
            parentId: route.id,
        });
        if (children.length > 0) {
            // @ts-ignore
            route.children = children;
        }
        return route;
    });
}
exports.createServerRoutes = createServerRoutes;
function createServerRoute(opts) {
    const { route } = opts;
    return {
        id: route.id,
        path: route.path,
        index: route.index,
    };
}
exports.createServerRoute = createServerRoute;
