"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.loadEnv = void 0;
const fs_1 = require("fs");
const path_1 = require("path");
const dotenv_1 = require("../../compiled/dotenv");
function loadEnv(opts) {
    const files = [
        (0, path_1.join)(opts.cwd, opts.envFile),
        (0, path_1.join)(opts.cwd, `${opts.envFile}.local`),
    ];
    for (const file of files) {
        if (!(0, fs_1.existsSync)(file))
            continue;
        const parsed = (0, dotenv_1.parse)((0, fs_1.readFileSync)(file)) || {};
        for (const key of Object.keys(parsed)) {
            process.env[key] = parsed[key];
        }
    }
}
exports.loadEnv = loadEnv;
